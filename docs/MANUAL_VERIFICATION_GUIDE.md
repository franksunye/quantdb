# QuantDB 人工验证测试指南

**版本**: v1.0.0-release-candidate  
**目标**: 验证前后端完整用户体验  
**预计时间**: 30分钟  
**状态**: 🎯 1.0版本发布前必须完成  

## 🚀 快速启动

### 1. 环境准备 (5分钟)
```bash
# 1. 启动后端服务
cd quantdb
python -m uvicorn src.api.main:app --host 0.0.0.0 --port 8000

# 2. 启动前端服务 (新终端)
cd quantdb_frontend
streamlit run app.py

# 3. 验证服务状态
# 后端: http://localhost:8000/api/v1/health
# 前端: http://localhost:8501
```

### 2. 基础连接验证 (2分钟)
- [ ] 后端健康检查返回 `{"status": "ok"}`
- [ ] 前端页面正常加载，显示QuantDB标题
- [ ] 左侧导航栏显示6个功能页面

## 📋 核心功能验证 (100%可用)

### 📈 股票数据查询页面 (8分钟)

**测试场景1: 基础查询**
1. [ ] 点击"📈 股票数据查询"
2. [ ] 输入股票代码: `600000`
3. [ ] 选择日期范围: 最近30天
4. [ ] 点击"🔍 查询股票数据"

**预期结果**:
- [ ] 显示"浦发银行"真实公司名称
- [ ] 返回历史数据表格 (约20-30条记录)
- [ ] 显示价格趋势图表
- [ ] 关键指标显示: 最新价格、涨跌幅、最高价、最低价

**测试场景2: 高级图表**
1. [ ] 切换到"🕯️ K线图"标签
2. [ ] 切换到"📊 成交量"标签
3. [ ] 切换到"📉 收益率分析"标签

**预期结果**:
- [ ] 所有图表正常显示
- [ ] 图表数据与表格数据一致
- [ ] 图表交互功能正常 (缩放、悬停)

### 📊 资产信息页面 (5分钟)

**测试场景: 资产档案查询**
1. [ ] 点击"📊 资产信息"
2. [ ] 输入股票代码: `600000`
3. [ ] 点击"🔍 查询资产信息"

**预期结果**:
- [ ] 显示"浦发银行"公司名称
- [ ] 显示财务指标: PE、PB、ROE等
- [ ] 显示基本信息: 行业、交易所、上市日期
- [ ] 显示数据覆盖信息

**额外测试**:
1. [ ] 点击"🔄 刷新数据"按钮
2. [ ] 测试其他股票: `000001` (平安银行)

### ⚡ 系统状态页面 (3分钟)

**测试场景: 系统监控**
1. [ ] 点击"⚡ 系统状态"
2. [ ] 查看API连接状态
3. [ ] 点击"🔄 手动刷新"

**预期结果**:
- [ ] API连接状态显示"✅ 正常"
- [ ] 显示系统版本信息
- [ ] 显示数据库基本信息
- [ ] 性能测试功能正常工作

## 📋 高级功能验证 (部分可用)

### ⚡ 性能监控页面 (3分钟)

**测试场景: 性能指标**
1. [ ] 点击"⚡ 性能监控"
2. [ ] 查看核心性能指标
3. [ ] 点击"测试数据查询性能"

**预期结果**:
- [ ] 显示缓存响应时间 (~18ms)
- [ ] 显示AKShare响应时间 (~1000ms)
- [ ] 显示性能提升百分比
- [ ] 性能测试返回真实数据

**已知限制**: 部分数据为模拟数据，在文档中已说明

### 🎯 自选股管理页面 (5分钟)

**测试场景: 自选股操作**
1. [ ] 点击"🎯 自选股管理"
2. [ ] 添加新股票: `600519` (贵州茅台)
3. [ ] 点击"📊 批量查询数据"
4. [ ] 点击某只股票的"📈 查看"按钮

**预期结果**:
- [ ] 成功添加股票到自选股列表
- [ ] 批量查询显示所有自选股数据
- [ ] 股票详情页面正常显示
- [ ] 可以删除自选股

**已知限制**: 数据存储在本地，无法跨设备同步

### 📤 数据导出页面 (4分钟)

**测试场景: 数据导出**
1. [ ] 点击"📤 数据导出"
2. [ ] 选择"股票历史数据"
3. [ ] 输入股票代码: `600000`
4. [ ] 选择CSV格式
5. [ ] 点击"🚀 开始导出"

**预期结果**:
- [ ] 成功生成CSV文件
- [ ] 文件包含完整的历史数据
- [ ] 显示数据预览
- [ ] 导出历史记录正常

**已知限制**: 大数据量导出性能有限

## 🔍 错误处理验证 (3分钟)

### 异常情况测试
1. [ ] 输入无效股票代码: `999999`
2. [ ] 选择未来日期范围
3. [ ] 在网络断开时进行查询

**预期结果**:
- [ ] 显示友好的错误提示
- [ ] 系统不会崩溃
- [ ] 错误信息准确描述问题

## ✅ 验证清单总结

### 必须通过的核心功能 (100%可用)
- [ ] 📈 股票数据查询 - 完整功能正常
- [ ] 📊 资产信息展示 - 真实数据准确
- [ ] ⚡ 系统状态监控 - 监控信息正确

### 可接受限制的高级功能 (部分可用)
- [ ] ⚡ 性能监控 - 基础功能正常，部分模拟数据
- [ ] 🎯 自选股管理 - 核心功能正常，本地存储
- [ ] 📤 数据导出 - 基础导出正常，性能有限

### 用户体验验证
- [ ] 页面加载速度 < 3秒
- [ ] 数据查询响应 < 5秒
- [ ] 界面操作流畅无卡顿
- [ ] 错误提示友好准确

## 🚨 发现问题时的处理

### 严重问题 (阻止发布)
- 核心功能无法使用
- 数据显示错误
- 系统频繁崩溃

### 一般问题 (可接受)
- 高级功能性能限制
- 非核心功能的小问题
- 已知限制范围内的问题

### 问题报告格式
```
问题描述: [具体问题]
重现步骤: [操作步骤]
预期结果: [应该的结果]
实际结果: [实际的结果]
严重程度: [严重/一般/轻微]
```

## 🎯 验证完成标准

### 1.0版本发布条件
- [ ] 所有核心功能验证通过
- [ ] 无严重问题
- [ ] 用户体验满足要求
- [ ] 已知限制在可接受范围内

### 验证报告
完成验证后，请记录：
1. 验证时间和环境
2. 发现的问题列表
3. 功能可用性评估
4. 发布建议

**验证完成**: 🎉 恭喜！QuantDB v1.0.0 准备发布
